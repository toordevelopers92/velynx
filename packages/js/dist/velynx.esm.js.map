{"version":3,"file":"velynx.esm.js","sources":["../src/modules/helpers.ts","../src/modules/modal.ts","../src/modules/drawer.ts","../src/modules/dropdown.ts","../src/modules/tooltip.ts","../src/modules/tabs.ts","../src/modules/toast.ts","../src/modules/accordion.ts","../src/modules/popover.ts","../src/modules/navbar.ts","../src/modules/calendar.ts","../src/index.ts"],"sourcesContent":["export const byId = (id: string) => document.getElementById(id);\n\nexport const toggleClass = (el: Element, className: string, on: boolean) => {\n  if (on) {\n    el.classList.add(className);\n  } else {\n    el.classList.remove(className);\n  }\n};\n\nexport const setAriaExpanded = (el: Element | null, expanded: boolean) => {\n  if (el && 'setAttribute' in el) {\n    el.setAttribute('aria-expanded', expanded ? 'true' : 'false');\n  }\n};\n\nexport const setAriaHidden = (el: Element | null, hidden: boolean) => {\n  if (el && 'setAttribute' in el) {\n    el.setAttribute('aria-hidden', hidden ? 'true' : 'false');\n  }\n};\r\n\r\n","import { setAriaExpanded, setAriaHidden, toggleClass } from './helpers';\n\nexport class Modal {\n  private root: HTMLElement;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n    this.root.setAttribute('role', 'dialog');\n    this.root.setAttribute('aria-modal', 'true');\n    setAriaHidden(this.root, true);\n  }\n\n  open() {\n    toggleClass(this.root, 'vxs-open', true);\n    setAriaHidden(this.root, false);\n  }\n\n  close() {\n    toggleClass(this.root, 'vxs-open', false);\n    setAriaHidden(this.root, true);\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"modal\"]').forEach((modalEl) => {\n      const modal = new Modal(modalEl);\n      const id = modalEl.id;\n      if (!id) {\n        return;\n      }\n      document.querySelectorAll<HTMLElement>(`[data-vx-open=\"${id}\"]`).forEach((btn) => {\n        btn.addEventListener('click', () => {\n          modal.open();\n          setAriaExpanded(btn, true);\n        });\n      });\n      document.querySelectorAll<HTMLElement>(`[data-vx-close=\"${id}\"]`).forEach((btn) => {\n        btn.addEventListener('click', () => {\n          modal.close();\n          setAriaExpanded(btn, false);\n        });\n      });\n    });\n  }\n}\r\n\r\n","import { setAriaExpanded, setAriaHidden, toggleClass } from './helpers';\n\nexport class Drawer {\n  private root: HTMLElement;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n    setAriaHidden(this.root, true);\n  }\n\n  open() {\n    toggleClass(this.root, 'vxs-open', true);\n    setAriaHidden(this.root, false);\n  }\n\n  close() {\n    toggleClass(this.root, 'vxs-open', false);\n    setAriaHidden(this.root, true);\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"drawer\"]').forEach((drawerEl) => {\n      const drawer = new Drawer(drawerEl);\n      const id = drawerEl.id;\n      if (!id) {\n        return;\n      }\n      document.querySelectorAll<HTMLElement>(`[data-vx-open=\"${id}\"]`).forEach((btn) => {\n        btn.addEventListener('click', () => {\n          drawer.open();\n          setAriaExpanded(btn, true);\n        });\n      });\n      document.querySelectorAll<HTMLElement>(`[data-vx-close=\"${id}\"]`).forEach((btn) => {\n        btn.addEventListener('click', () => {\n          drawer.close();\n          setAriaExpanded(btn, false);\n        });\n      });\n    });\n  }\n}\r\n\r\n","import { setAriaExpanded, toggleClass } from './helpers';\n\nexport class Dropdown {\n  private root: HTMLElement;\n  private toggle: HTMLElement | null;\n  private menu: HTMLElement | null;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n    this.toggle = root.querySelector<HTMLElement>('[data-vx-toggle]');\n    this.menu = root.querySelector<HTMLElement>('[data-vx-menu]');\n    this.toggle?.setAttribute('aria-haspopup', 'menu');\n    setAriaExpanded(this.toggle, false);\n  }\n\n  open() {\n    if (!this.menu || !this.toggle) return;\n    toggleClass(this.menu, 'vxs-open', true);\n    setAriaExpanded(this.toggle, true);\n  }\n\n  close() {\n    if (!this.menu || !this.toggle) return;\n    toggleClass(this.menu, 'vxs-open', false);\n    setAriaExpanded(this.toggle, false);\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"dropdown\"]').forEach((root) => {\n      const dropdown = new Dropdown(root);\n      dropdown.toggle?.addEventListener('click', () => {\n        dropdown.menu?.classList.contains('vxs-open') ? dropdown.close() : dropdown.open();\n      });\n      document.addEventListener('click', (event) => {\n        if (!root.contains(event.target as Node)) {\n          dropdown.close();\n        }\n      });\n    });\n  }\n}\r\n\r\n","export class Tooltip {\n  static wire() {\n    const triggers = document.querySelectorAll<HTMLElement>('[data-vx-tooltip]');\n    triggers.forEach((trigger) => {\n      let tipEl: HTMLDivElement | null = null;\n      const text = trigger.getAttribute('data-vx-tooltip') || '';\n\n      const show = () => {\n        if (!text) return;\n        tipEl = document.createElement('div');\n        tipEl.className = 'c-tooltip m-fade-1';\n        tipEl.textContent = text;\n        document.body.appendChild(tipEl);\n        const rect = trigger.getBoundingClientRect();\n        tipEl.style.position = 'fixed';\n        tipEl.style.top = `${rect.bottom + 8}px`;\n        tipEl.style.left = `${rect.left}px`;\n      };\n\n      const hide = () => {\n        if (tipEl) {\n          tipEl.remove();\n          tipEl = null;\n        }\n      };\n\n      trigger.addEventListener('mouseenter', show);\n      trigger.addEventListener('focus', show);\n      trigger.addEventListener('mouseleave', hide);\n      trigger.addEventListener('blur', hide);\n    });\n  }\n}\r\n\r\n","import { setAriaExpanded, setAriaHidden, toggleClass } from './helpers';\n\nexport class Tabs {\n  private root: HTMLElement;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n  }\n\n  activate(id: string) {\n    this.root.querySelectorAll<HTMLElement>('[data-vx-tab]').forEach((tab) => {\n      const isActive = tab.getAttribute('data-vx-tab') === id;\n      toggleClass(tab, 'vxs-active', isActive);\n      setAriaExpanded(tab, isActive);\n    });\n    this.root.querySelectorAll<HTMLElement>('[data-vx-panel]').forEach((panel) => {\n      const isActive = panel.getAttribute('data-vx-panel') === id;\n      toggleClass(panel, 'vxs-hidden', !isActive);\n      setAriaHidden(panel, !isActive);\n    });\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"tabs\"]').forEach((root) => {\n      const tabs = new Tabs(root);\n      const first = root.querySelector<HTMLElement>('[data-vx-tab]');\n      if (first) {\n        tabs.activate(first.getAttribute('data-vx-tab') || '');\n      }\n      root.querySelectorAll<HTMLElement>('[data-vx-tab]').forEach((tab) => {\n        tab.setAttribute('role', 'tab');\n        tab.addEventListener('click', () => {\n          const id = tab.getAttribute('data-vx-tab') || '';\n          tabs.activate(id);\n        });\n      });\n      root.querySelectorAll<HTMLElement>('[data-vx-panel]').forEach((panel) => {\n        panel.setAttribute('role', 'tabpanel');\n      });\n    });\n  }\n}\r\n\r\n","export class ToastStack {\n  private root: HTMLElement;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n  }\n\n  show(message: string, timeout = 3200) {\n    const toast = document.createElement('div');\n    toast.className = 'c-toast m-fade-1';\n    toast.textContent = message;\n    this.root.appendChild(toast);\n    window.setTimeout(() => {\n      toast.remove();\n    }, timeout);\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"toast-stack\"]').forEach((stackEl) => {\n      const stack = new ToastStack(stackEl);\n      const id = stackEl.id;\n      if (!id) return;\n      document.querySelectorAll<HTMLElement>(`[data-vx-toast=\"${id}\"]`).forEach((btn) => {\n        btn.addEventListener('click', () => {\n          const msg = btn.getAttribute('data-vx-toast-msg') || 'Signal sent.';\n          stack.show(msg);\n        });\n      });\n    });\n  }\n}\r\n\r\n","import { setAriaExpanded, setAriaHidden, toggleClass } from './helpers';\n\nexport class Accordion {\n  private root: HTMLElement;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n  }\n\n  toggle(panelId: string) {\n    this.root.querySelectorAll<HTMLElement>('[data-vx-panel]').forEach((panel) => {\n      const isActive = panel.getAttribute('data-vx-panel') === panelId;\n      toggleClass(panel, 'vxs-hidden', !isActive);\n      setAriaHidden(panel, !isActive);\n    });\n    this.root.querySelectorAll<HTMLElement>('[data-vx-trigger]').forEach((trigger) => {\n      const isActive = trigger.getAttribute('data-vx-trigger') === panelId;\n      setAriaExpanded(trigger, isActive);\n    });\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"accordion\"]').forEach((root) => {\n      const accordion = new Accordion(root);\n      root.querySelectorAll<HTMLElement>('[data-vx-panel]').forEach((panel) => {\n        toggleClass(panel, 'vxs-hidden', true);\n        setAriaHidden(panel, true);\n      });\n      root.querySelectorAll<HTMLElement>('[data-vx-trigger]').forEach((trigger) => {\n        trigger.addEventListener('click', () => {\n          const id = trigger.getAttribute('data-vx-trigger') || '';\n          accordion.toggle(id);\n        });\n      });\n    });\n  }\n}\r\n\r\n","import { toggleClass } from './helpers';\n\nexport class Popover {\n  private trigger: HTMLElement;\n  private panel: HTMLElement | null;\n\n  constructor(trigger: HTMLElement) {\n    this.trigger = trigger;\n    const id = trigger.getAttribute('data-vx-popover') || '';\n    this.panel = id ? document.getElementById(id) : null;\n    this.trigger.setAttribute('aria-haspopup', 'dialog');\n  }\n\n  open() {\n    if (!this.panel) return;\n    toggleClass(this.panel, 'vxs-hidden', false);\n  }\n\n  close() {\n    if (!this.panel) return;\n    toggleClass(this.panel, 'vxs-hidden', true);\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx-popover]').forEach((trigger) => {\n      const popover = new Popover(trigger);\n      popover.close();\n      trigger.addEventListener('click', () => {\n        popover.panel?.classList.contains('vxs-hidden') ? popover.open() : popover.close();\n      });\n      document.addEventListener('click', (event) => {\n        if (!trigger.contains(event.target as Node) && !popover.panel?.contains(event.target as Node)) {\n          popover.close();\n        }\n      });\n    });\n  }\n}\r\n\r\n","import { setAriaExpanded, setAriaHidden, toggleClass } from './helpers';\n\nexport class Navbar {\n  private root: HTMLElement;\n  private toggle: HTMLElement | null;\n  private menu: HTMLElement | null;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n    this.toggle = this.root.querySelector<HTMLElement>('[data-vx-toggle]');\n    this.menu = this.root.querySelector<HTMLElement>('[data-vx-menu]');\n\n    if (!this.toggle || !this.menu) {\n      return;\n    }\n\n    if (this.menu.id) {\n      this.toggle.setAttribute('aria-controls', this.menu.id);\n    }\n\n    const isOpen = this.menu.classList.contains('vxs-open');\n    setAriaExpanded(this.toggle, isOpen);\n    setAriaHidden(this.menu, !isOpen);\n\n    this.toggle.addEventListener('click', () => {\n      const nextOpen = !this.menu?.classList.contains('vxs-open');\n      if (nextOpen) {\n        this.open();\n      } else {\n        this.close();\n      }\n    });\n\n    this.root.addEventListener('keydown', (event) => {\n      if (event.key === 'Escape') {\n        this.close();\n      }\n    });\n\n    document.addEventListener('click', (event) => {\n      if (!this.menu || !this.menu.classList.contains('vxs-open')) {\n        return;\n      }\n      if (this.root.contains(event.target as Node)) {\n        return;\n      }\n      this.close();\n    });\n  }\n\n  open() {\n    if (!this.menu) {\n      return;\n    }\n    toggleClass(this.menu, 'vxs-open', true);\n    setAriaExpanded(this.toggle, true);\n    setAriaHidden(this.menu, false);\n  }\n\n  close() {\n    if (!this.menu) {\n      return;\n    }\n    toggleClass(this.menu, 'vxs-open', false);\n    setAriaExpanded(this.toggle, false);\n    setAriaHidden(this.menu, true);\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"navbar\"]').forEach((navEl) => {\n      new Navbar(navEl);\n    });\n  }\n}\n\r\n","type CalendarParts = {\n  header: HTMLElement;\n  title: HTMLElement;\n  prev: HTMLButtonElement;\n  next: HTMLButtonElement;\n  weekdays: HTMLElement;\n  grid: HTMLElement;\n};\n\nconst parseDate = (value?: string | null) => {\n  if (!value) {\n    return null;\n  }\n  const match = /^(\\d{4})-(\\d{2})-(\\d{2})$/.exec(value);\n  if (!match) {\n    return null;\n  }\n  const year = Number(match[1]);\n  const month = Number(match[2]) - 1;\n  const day = Number(match[3]);\n  const date = new Date(year, month, day);\n  if (Number.isNaN(date.getTime())) {\n    return null;\n  }\n  return date;\n};\n\nconst toIsoDate = (date: Date) => {\n  const y = date.getFullYear();\n  const m = `${date.getMonth() + 1}`.padStart(2, '0');\n  const d = `${date.getDate()}`.padStart(2, '0');\n  return `${y}-${m}-${d}`;\n};\n\nconst addMonths = (date: Date, offset: number) =>\n  new Date(date.getFullYear(), date.getMonth() + offset, 1);\n\nconst getMonthLabel = (date: Date, locale: string) =>\n  new Intl.DateTimeFormat(locale, { month: 'long', year: 'numeric' }).format(date);\n\nconst getWeekdayLabels = (locale: string, weekStart: number) => {\n  const formatter = new Intl.DateTimeFormat(locale, { weekday: 'short' });\n  const base = new Date(2020, 5, 7);\n  const labels = Array.from({ length: 7 }, (_, index) => {\n    const d = new Date(base);\n    d.setDate(base.getDate() + index);\n    return formatter.format(d);\n  });\n  return labels.slice(weekStart).concat(labels.slice(0, weekStart));\n};\n\nexport class Calendar {\n  private root: HTMLElement;\n  private parts: CalendarParts;\n  private locale: string;\n  private weekStart: number;\n  private minDate: Date | null;\n  private maxDate: Date | null;\n  private selected: Date | null;\n  private viewDate: Date;\n  private today: Date;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n    this.locale = this.root.dataset.vxLocale || 'en-US';\n    this.weekStart = Number(this.root.dataset.vxWeekStart || 0);\n    if (Number.isNaN(this.weekStart) || this.weekStart < 0 || this.weekStart > 6) {\n      this.weekStart = 0;\n    }\n    this.minDate = parseDate(this.root.dataset.vxMin);\n    this.maxDate = parseDate(this.root.dataset.vxMax);\n    this.selected = parseDate(this.root.dataset.vxSelected);\n    this.today = new Date();\n    const start = this.selected || this.today;\n    this.viewDate = new Date(start.getFullYear(), start.getMonth(), 1);\n    this.parts = this.ensureStructure();\n    this.bind();\n    this.render();\n  }\n\n  private ensureStructure(): CalendarParts {\n    this.root.classList.add('c-calendar');\n\n    let header = this.root.querySelector<HTMLElement>('.c-calendar-header');\n    if (!header) {\n      header = document.createElement('div');\n      header.className = 'c-calendar-header';\n      this.root.appendChild(header);\n    }\n\n    let prev = header.querySelector<HTMLButtonElement>('[data-vx-cal-prev]');\n    if (!prev) {\n      prev = document.createElement('button');\n      prev.type = 'button';\n      prev.className = 'c-calendar-nav';\n      prev.dataset.vxCalPrev = '';\n      prev.textContent = 'Prev';\n      header.appendChild(prev);\n    }\n\n    let title = header.querySelector<HTMLElement>('.c-calendar-title');\n    if (!title) {\n      title = document.createElement('div');\n      title.className = 'c-calendar-title';\n      header.appendChild(title);\n    }\n\n    let next = header.querySelector<HTMLButtonElement>('[data-vx-cal-next]');\n    if (!next) {\n      next = document.createElement('button');\n      next.type = 'button';\n      next.className = 'c-calendar-nav';\n      next.dataset.vxCalNext = '';\n      next.textContent = 'Next';\n      header.appendChild(next);\n    }\n\n    let weekdays = this.root.querySelector<HTMLElement>('.c-calendar-weekdays');\n    if (!weekdays) {\n      weekdays = document.createElement('div');\n      weekdays.className = 'c-calendar-weekdays';\n      this.root.appendChild(weekdays);\n    }\n\n    let grid = this.root.querySelector<HTMLElement>('.c-calendar-grid');\n    if (!grid) {\n      grid = document.createElement('div');\n      grid.className = 'c-calendar-grid';\n      this.root.appendChild(grid);\n    }\n\n    return { header, title, prev, next, weekdays, grid };\n  }\n\n  private bind() {\n    this.parts.prev.addEventListener('click', () => {\n      this.viewDate = addMonths(this.viewDate, -1);\n      this.render();\n    });\n\n    this.parts.next.addEventListener('click', () => {\n      this.viewDate = addMonths(this.viewDate, 1);\n      this.render();\n    });\n\n    this.parts.grid.addEventListener('click', (event) => {\n      const target = (event.target as HTMLElement | null)?.closest<HTMLElement>('[data-vx-date]');\n      if (!target || target.hasAttribute('disabled')) {\n        return;\n      }\n      const iso = target.getAttribute('data-vx-date');\n      const date = parseDate(iso);\n      if (!date) {\n        return;\n      }\n      this.selected = date;\n      if (\n        date.getFullYear() !== this.viewDate.getFullYear() ||\n        date.getMonth() !== this.viewDate.getMonth()\n      ) {\n        this.viewDate = new Date(date.getFullYear(), date.getMonth(), 1);\n      }\n      this.root.dataset.vxSelected = iso || '';\n      this.render();\n    });\n  }\n\n  private isOutOfRange(date: Date) {\n    if (this.minDate && date < this.minDate) {\n      return true;\n    }\n    if (this.maxDate && date > this.maxDate) {\n      return true;\n    }\n    return false;\n  }\n\n  private renderWeekdays() {\n    const labels = getWeekdayLabels(this.locale, this.weekStart);\n    this.parts.weekdays.innerHTML = '';\n    labels.forEach((label) => {\n      const cell = document.createElement('div');\n      cell.textContent = label;\n      this.parts.weekdays.appendChild(cell);\n    });\n  }\n\n  private renderGrid() {\n    const year = this.viewDate.getFullYear();\n    const month = this.viewDate.getMonth();\n    const first = new Date(year, month, 1);\n    const dayOfWeek = first.getDay();\n    const leading = (dayOfWeek - this.weekStart + 7) % 7;\n    const start = new Date(year, month, 1 - leading);\n    const totalCells = 42;\n\n    this.parts.grid.innerHTML = '';\n\n    for (let i = 0; i < totalCells; i += 1) {\n      const date = new Date(start.getFullYear(), start.getMonth(), start.getDate() + i);\n      const isCurrentMonth = date.getMonth() === month;\n      const iso = toIsoDate(date);\n      const isSelected = this.selected ? toIsoDate(this.selected) === iso : false;\n      const isToday = toIsoDate(this.today) === iso;\n      const disabled = this.isOutOfRange(date);\n\n      const cell = document.createElement('button');\n      cell.type = 'button';\n      cell.className = 'c-calendar-day';\n      cell.textContent = `${date.getDate()}`;\n      cell.setAttribute('data-vx-date', iso);\n\n      if (!isCurrentMonth) {\n        cell.classList.add('vxs-outside');\n      }\n      if (isToday) {\n        cell.classList.add('vxs-today');\n      }\n      if (isSelected && !disabled) {\n        cell.classList.add('vxs-selected');\n        cell.setAttribute('aria-selected', 'true');\n      }\n      if (disabled) {\n        cell.classList.add('vxs-disabled');\n        cell.setAttribute('disabled', 'true');\n      }\n\n      this.parts.grid.appendChild(cell);\n    }\n  }\n\n  private render() {\n    this.parts.title.textContent = getMonthLabel(this.viewDate, this.locale);\n    this.renderWeekdays();\n    this.renderGrid();\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"calendar\"]').forEach((calendarEl) => {\n      new Calendar(calendarEl);\n    });\n  }\n}\n\r\n","import { Modal } from './modules/modal';\nimport { Drawer } from './modules/drawer';\nimport { Dropdown } from './modules/dropdown';\nimport { Tooltip } from './modules/tooltip';\nimport { Tabs } from './modules/tabs';\nimport { ToastStack } from './modules/toast';\nimport { Accordion } from './modules/accordion';\nimport { Popover } from './modules/popover';\nimport { Navbar } from './modules/navbar';\nimport { Calendar } from './modules/calendar';\n\nexport { Modal, Drawer, Dropdown, Tooltip, Tabs, ToastStack, Accordion, Popover, Navbar, Calendar };\n\nexport const autoInit = () => {\n  Modal.wire();\n  Drawer.wire();\n  Dropdown.wire();\n  Tooltip.wire();\n  Tabs.wire();\n  ToastStack.wire();\n  Accordion.wire();\n  Popover.wire();\n  Navbar.wire();\n  Calendar.wire();\n};\n\nconst shouldAutoInit = () =>\n  typeof document !== 'undefined' && document.documentElement?.hasAttribute('data-vx-auto');\n\nif (shouldAutoInit()) {\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => autoInit());\n  } else {\n    autoInit();\n  }\n}\n"],"names":["toggleClass","el","className","on","setAriaExpanded","expanded","setAriaHidden","hidden","Modal","root","__publicField","modalEl","modal","id","btn","Drawer","drawerEl","drawer","Dropdown","_a","dropdown","event","Tooltip","trigger","tipEl","text","show","rect","hide","Tabs","tab","isActive","panel","tabs","first","ToastStack","message","timeout","toast","stackEl","stack","msg","Accordion","panelId","accordion","Popover","popover","Navbar","isOpen","navEl","parseDate","value","match","year","month","day","date","toIsoDate","y","m","d","addMonths","offset","getMonthLabel","locale","getWeekdayLabels","weekStart","formatter","base","labels","_","index","Calendar","start","header","prev","title","next","weekdays","grid","target","iso","label","cell","leading","totalCells","i","isCurrentMonth","isSelected","isToday","disabled","calendarEl","autoInit","shouldAutoInit"],"mappings":"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"}