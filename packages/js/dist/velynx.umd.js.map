{"version":3,"file":"velynx.umd.js","sources":["../src/modules/helpers.ts","../src/modules/modal.ts","../src/modules/drawer.ts","../src/modules/dropdown.ts","../src/modules/tooltip.ts","../src/modules/tabs.ts","../src/modules/toast.ts","../src/modules/accordion.ts","../src/modules/popover.ts","../src/modules/navbar.ts","../src/modules/calendar.ts","../src/modules/particle-progress.ts","../src/modules/image-reveal.ts","../src/index.ts"],"sourcesContent":["export const byId = (id: string) => document.getElementById(id);\n\nexport const toggleClass = (el: Element, className: string, on: boolean) => {\n  if (on) {\n    el.classList.add(className);\n  } else {\n    el.classList.remove(className);\n  }\n};\n\nexport const setAriaExpanded = (el: Element | null, expanded: boolean) => {\n  if (el && 'setAttribute' in el) {\n    el.setAttribute('aria-expanded', expanded ? 'true' : 'false');\n  }\n};\n\nexport const setAriaHidden = (el: Element | null, hidden: boolean) => {\n  if (el && 'setAttribute' in el) {\n    el.setAttribute('aria-hidden', hidden ? 'true' : 'false');\n  }\n};\r\n\r\n","import { setAriaExpanded, setAriaHidden, toggleClass } from './helpers';\n\nconst modalAngles = [\n  'center',\n  'top',\n  'right',\n  'bottom',\n  'left',\n  'top-left',\n  'top-right',\n  'bottom-left',\n  'bottom-right'\n] as const;\n\ntype ModalAngle = (typeof modalAngles)[number];\n\nexport class Modal {\n  private root: HTMLElement;\n  private closeOnEscape: boolean;\n  private closeOnBackdrop: boolean;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n    this.closeOnEscape = this.root.dataset.vxEscapeClose !== 'false';\n    this.closeOnBackdrop = this.root.dataset.vxBackdropClose !== 'false';\n    this.root.setAttribute('role', 'dialog');\n    this.root.setAttribute('aria-modal', 'true');\n    this.root.dataset.vxState = 'closed';\n    this.setAngle();\n    this.bind();\n    setAriaHidden(this.root, true);\n  }\n\n  open() {\n    this.setAngle();\n    this.root.dataset.vxState = 'open';\n    toggleClass(this.root, 'vxs-open', true);\n    setAriaHidden(this.root, false);\n  }\n\n  close() {\n    this.root.dataset.vxState = 'closed';\n    toggleClass(this.root, 'vxs-open', false);\n    setAriaHidden(this.root, true);\n  }\n\n  private setAngle() {\n    const configured = this.root.dataset.vxAngle || 'center';\n    if (configured === 'random') {\n      const index = Math.floor(Math.random() * modalAngles.length);\n      this.root.dataset.vxAngleActive = modalAngles[index];\n      return;\n    }\n    this.root.dataset.vxAngleActive = modalAngles.includes(configured as ModalAngle)\n      ? configured\n      : 'center';\n  }\n\n  private bind() {\n    this.root.addEventListener('click', (event) => {\n      if (!this.closeOnBackdrop) {\n        return;\n      }\n      if (event.target === this.root) {\n        this.close();\n      }\n    });\n\n    document.addEventListener('keydown', (event) => {\n      if (!this.closeOnEscape || event.key !== 'Escape') {\n        return;\n      }\n      if (this.root.classList.contains('vxs-open')) {\n        this.close();\n      }\n    });\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"modal\"]').forEach((modalEl) => {\n      const modal = new Modal(modalEl);\n      const id = modalEl.id;\n      if (!id) {\n        return;\n      }\n      document.querySelectorAll<HTMLElement>(`[data-vx-open=\"${id}\"]`).forEach((btn) => {\n        btn.addEventListener('click', () => {\n          modal.open();\n          setAriaExpanded(btn, true);\n        });\n      });\n      document.querySelectorAll<HTMLElement>(`[data-vx-close=\"${id}\"]`).forEach((btn) => {\n        btn.addEventListener('click', () => {\n          modal.close();\n          setAriaExpanded(btn, false);\n        });\n      });\n    });\n  }\n}\r\n\r\n","import { setAriaExpanded, setAriaHidden, toggleClass } from './helpers';\n\nexport class Drawer {\n  private root: HTMLElement;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n    setAriaHidden(this.root, true);\n  }\n\n  open() {\n    toggleClass(this.root, 'vxs-open', true);\n    setAriaHidden(this.root, false);\n  }\n\n  close() {\n    toggleClass(this.root, 'vxs-open', false);\n    setAriaHidden(this.root, true);\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"drawer\"]').forEach((drawerEl) => {\n      const drawer = new Drawer(drawerEl);\n      const id = drawerEl.id;\n      if (!id) {\n        return;\n      }\n      document.querySelectorAll<HTMLElement>(`[data-vx-open=\"${id}\"]`).forEach((btn) => {\n        btn.addEventListener('click', () => {\n          drawer.open();\n          setAriaExpanded(btn, true);\n        });\n      });\n      document.querySelectorAll<HTMLElement>(`[data-vx-close=\"${id}\"]`).forEach((btn) => {\n        btn.addEventListener('click', () => {\n          drawer.close();\n          setAriaExpanded(btn, false);\n        });\n      });\n    });\n  }\n}\r\n\r\n","import { setAriaExpanded, toggleClass } from './helpers';\n\nexport class Dropdown {\n  private root: HTMLElement;\n  private toggle: HTMLElement | null;\n  private menu: HTMLElement | null;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n    this.toggle = root.querySelector<HTMLElement>('[data-vx-toggle]');\n    this.menu = root.querySelector<HTMLElement>('[data-vx-menu]');\n    this.toggle?.setAttribute('aria-haspopup', 'menu');\n    setAriaExpanded(this.toggle, false);\n  }\n\n  open() {\n    if (!this.menu || !this.toggle) return;\n    toggleClass(this.menu, 'vxs-open', true);\n    setAriaExpanded(this.toggle, true);\n  }\n\n  close() {\n    if (!this.menu || !this.toggle) return;\n    toggleClass(this.menu, 'vxs-open', false);\n    setAriaExpanded(this.toggle, false);\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"dropdown\"]').forEach((root) => {\n      const dropdown = new Dropdown(root);\n      dropdown.toggle?.addEventListener('click', () => {\n        dropdown.menu?.classList.contains('vxs-open') ? dropdown.close() : dropdown.open();\n      });\n      document.addEventListener('click', (event) => {\n        if (!root.contains(event.target as Node)) {\n          dropdown.close();\n        }\n      });\n    });\n  }\n}\r\n\r\n","export class Tooltip {\n  static wire() {\n    const triggers = document.querySelectorAll<HTMLElement>('[data-vx-tooltip]');\n    triggers.forEach((trigger) => {\n      let tipEl: HTMLDivElement | null = null;\n      const text = trigger.getAttribute('data-vx-tooltip') || '';\n\n      const show = () => {\n        if (!text) return;\n        tipEl = document.createElement('div');\n        tipEl.className = 'vxc-tooltip vxm-fade-1';\n        tipEl.textContent = text;\n        document.body.appendChild(tipEl);\n        const rect = trigger.getBoundingClientRect();\n        tipEl.style.position = 'fixed';\n        tipEl.style.top = `${rect.bottom + 8}px`;\n        tipEl.style.left = `${rect.left}px`;\n      };\n\n      const hide = () => {\n        if (tipEl) {\n          tipEl.remove();\n          tipEl = null;\n        }\n      };\n\n      trigger.addEventListener('mouseenter', show);\n      trigger.addEventListener('focus', show);\n      trigger.addEventListener('mouseleave', hide);\n      trigger.addEventListener('blur', hide);\n    });\n  }\n}\r\n\r\n","import { setAriaExpanded, setAriaHidden, toggleClass } from './helpers';\n\nexport class Tabs {\n  private root: HTMLElement;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n  }\n\n  activate(id: string) {\n    this.root.querySelectorAll<HTMLElement>('[data-vx-tab]').forEach((tab) => {\n      const isActive = tab.getAttribute('data-vx-tab') === id;\n      toggleClass(tab, 'vxs-active', isActive);\n      setAriaExpanded(tab, isActive);\n    });\n    this.root.querySelectorAll<HTMLElement>('[data-vx-panel]').forEach((panel) => {\n      const isActive = panel.getAttribute('data-vx-panel') === id;\n      toggleClass(panel, 'vxs-hidden', !isActive);\n      setAriaHidden(panel, !isActive);\n    });\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"tabs\"]').forEach((root) => {\n      const tabs = new Tabs(root);\n      const first = root.querySelector<HTMLElement>('[data-vx-tab]');\n      if (first) {\n        tabs.activate(first.getAttribute('data-vx-tab') || '');\n      }\n      root.querySelectorAll<HTMLElement>('[data-vx-tab]').forEach((tab) => {\n        tab.setAttribute('role', 'tab');\n        tab.addEventListener('click', () => {\n          const id = tab.getAttribute('data-vx-tab') || '';\n          tabs.activate(id);\n        });\n      });\n      root.querySelectorAll<HTMLElement>('[data-vx-panel]').forEach((panel) => {\n        panel.setAttribute('role', 'tabpanel');\n      });\n    });\n  }\n}\r\n\r\n","export class ToastStack {\n  private root: HTMLElement;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n  }\n\n  show(message: string, timeout = 3200) {\n    const toast = document.createElement('div');\n    toast.className = 'vxc-toast vxm-fade-1';\n    toast.textContent = message;\n    this.root.appendChild(toast);\n    window.setTimeout(() => {\n      toast.remove();\n    }, timeout);\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"toast-stack\"]').forEach((stackEl) => {\n      const stack = new ToastStack(stackEl);\n      const id = stackEl.id;\n      if (!id) return;\n      document.querySelectorAll<HTMLElement>(`[data-vx-toast=\"${id}\"]`).forEach((btn) => {\n        btn.addEventListener('click', () => {\n          const msg = btn.getAttribute('data-vx-toast-msg') || 'Signal sent.';\n          stack.show(msg);\n        });\n      });\n    });\n  }\n}\r\n\r\n","import { setAriaExpanded, setAriaHidden, toggleClass } from './helpers';\n\nexport class Accordion {\n  private root: HTMLElement;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n  }\n\n  toggle(panelId: string) {\n    this.root.querySelectorAll<HTMLElement>('[data-vx-panel]').forEach((panel) => {\n      const isActive = panel.getAttribute('data-vx-panel') === panelId;\n      toggleClass(panel, 'vxs-hidden', !isActive);\n      setAriaHidden(panel, !isActive);\n    });\n    this.root.querySelectorAll<HTMLElement>('[data-vx-trigger]').forEach((trigger) => {\n      const isActive = trigger.getAttribute('data-vx-trigger') === panelId;\n      setAriaExpanded(trigger, isActive);\n    });\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"accordion\"]').forEach((root) => {\n      const accordion = new Accordion(root);\n      root.querySelectorAll<HTMLElement>('[data-vx-panel]').forEach((panel) => {\n        toggleClass(panel, 'vxs-hidden', true);\n        setAriaHidden(panel, true);\n      });\n      root.querySelectorAll<HTMLElement>('[data-vx-trigger]').forEach((trigger) => {\n        trigger.addEventListener('click', () => {\n          const id = trigger.getAttribute('data-vx-trigger') || '';\n          accordion.toggle(id);\n        });\n      });\n    });\n  }\n}\r\n\r\n","import { toggleClass } from './helpers';\n\nexport class Popover {\n  private trigger: HTMLElement;\n  private panel: HTMLElement | null;\n\n  constructor(trigger: HTMLElement) {\n    this.trigger = trigger;\n    const id = trigger.getAttribute('data-vx-popover') || '';\n    this.panel = id ? document.getElementById(id) : null;\n    this.trigger.setAttribute('aria-haspopup', 'dialog');\n  }\n\n  open() {\n    if (!this.panel) return;\n    toggleClass(this.panel, 'vxs-hidden', false);\n  }\n\n  close() {\n    if (!this.panel) return;\n    toggleClass(this.panel, 'vxs-hidden', true);\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx-popover]').forEach((trigger) => {\n      const popover = new Popover(trigger);\n      popover.close();\n      trigger.addEventListener('click', () => {\n        popover.panel?.classList.contains('vxs-hidden') ? popover.open() : popover.close();\n      });\n      document.addEventListener('click', (event) => {\n        if (!trigger.contains(event.target as Node) && !popover.panel?.contains(event.target as Node)) {\n          popover.close();\n        }\n      });\n    });\n  }\n}\r\n\r\n","import { setAriaExpanded, setAriaHidden, toggleClass } from './helpers';\n\nexport class Navbar {\n  private root: HTMLElement;\n  private toggle: HTMLElement | null;\n  private menu: HTMLElement | null;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n    this.toggle = this.root.querySelector<HTMLElement>('[data-vx-toggle]');\n    this.menu = this.root.querySelector<HTMLElement>('[data-vx-menu]');\n\n    if (!this.toggle || !this.menu) {\n      return;\n    }\n\n    if (this.menu.id) {\n      this.toggle.setAttribute('aria-controls', this.menu.id);\n    }\n\n    const isOpen = this.menu.classList.contains('vxs-open');\n    setAriaExpanded(this.toggle, isOpen);\n    setAriaHidden(this.menu, !isOpen);\n\n    this.toggle.addEventListener('click', () => {\n      const nextOpen = !this.menu?.classList.contains('vxs-open');\n      if (nextOpen) {\n        this.open();\n      } else {\n        this.close();\n      }\n    });\n\n    this.root.addEventListener('keydown', (event) => {\n      if (event.key === 'Escape') {\n        this.close();\n      }\n    });\n\n    document.addEventListener('click', (event) => {\n      if (!this.menu || !this.menu.classList.contains('vxs-open')) {\n        return;\n      }\n      if (this.root.contains(event.target as Node)) {\n        return;\n      }\n      this.close();\n    });\n  }\n\n  open() {\n    if (!this.menu) {\n      return;\n    }\n    toggleClass(this.menu, 'vxs-open', true);\n    setAriaExpanded(this.toggle, true);\n    setAriaHidden(this.menu, false);\n  }\n\n  close() {\n    if (!this.menu) {\n      return;\n    }\n    toggleClass(this.menu, 'vxs-open', false);\n    setAriaExpanded(this.toggle, false);\n    setAriaHidden(this.menu, true);\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"navbar\"]').forEach((navEl) => {\n      new Navbar(navEl);\n    });\n  }\n}\n\r\n","type CalendarParts = {\n  header: HTMLElement;\n  title: HTMLElement;\n  prev: HTMLButtonElement;\n  next: HTMLButtonElement;\n  weekdays: HTMLElement;\n  grid: HTMLElement;\n};\n\ntype CalendarMode = 'single' | 'multi' | 'range';\n\nconst parseDate = (value?: string | null) => {\n  if (!value) {\n    return null;\n  }\n  const match = /^(\\d{4})-(\\d{2})-(\\d{2})$/.exec(value);\n  if (!match) {\n    return null;\n  }\n  const year = Number(match[1]);\n  const month = Number(match[2]) - 1;\n  const day = Number(match[3]);\n  const date = new Date(year, month, day);\n  if (Number.isNaN(date.getTime())) {\n    return null;\n  }\n  return date;\n};\n\nconst splitDateValues = (value?: string | null) =>\n  (value || '')\n    .split(/[,\\s;|]+/)\n    .map((item) => item.trim())\n    .filter(Boolean);\n\nconst compareDates = (a: Date, b: Date) => a.getTime() - b.getTime();\n\nconst toIsoDate = (date: Date) => {\n  const y = date.getFullYear();\n  const m = `${date.getMonth() + 1}`.padStart(2, '0');\n  const d = `${date.getDate()}`.padStart(2, '0');\n  return `${y}-${m}-${d}`;\n};\n\nconst addMonths = (date: Date, offset: number) =>\n  new Date(date.getFullYear(), date.getMonth() + offset, 1);\n\nconst getWeekdayLabels = (formatter: Intl.DateTimeFormat, weekStart: number) => {\n  const base = new Date(2020, 5, 7);\n  const labels = Array.from({ length: 7 }, (_, index) => {\n    const d = new Date(base);\n    d.setDate(base.getDate() + index);\n    return formatter.format(d);\n  });\n  return labels.slice(weekStart).concat(labels.slice(0, weekStart));\n};\n\nconst parseMode = (value?: string | null): CalendarMode => {\n  if (value === 'multi' || value === 'range') {\n    return value;\n  }\n  return 'single';\n};\n\nconst parseDateList = (value?: string | null) =>\n  splitDateValues(value)\n    .map((token) => parseDate(token))\n    .filter((date): date is Date => Boolean(date))\n    .sort(compareDates);\n\nconst parseRangeSelection = (value?: string | null): [Date | null, Date | null] => {\n  if (!value) {\n    return [null, null];\n  }\n  const tokens =\n    value.includes('..') || value.includes('/')\n      ? value.split(/(?:\\.\\.|\\/)/).map((item) => item.trim())\n      : splitDateValues(value);\n  const first = parseDate(tokens[0]);\n  const second = parseDate(tokens[1]);\n  if (!first && !second) {\n    return [null, null];\n  }\n  if (first && second && second < first) {\n    return [second, first];\n  }\n  return [first, second];\n};\n\nexport class Calendar {\n  private root: HTMLElement;\n  private parts: CalendarParts;\n  private mode: CalendarMode;\n  private locale: string;\n  private weekStart: number;\n  private minDate: Date | null;\n  private maxDate: Date | null;\n  private selected: Date | null;\n  private selectedDates: Set<string>;\n  private rangeStart: Date | null;\n  private rangeEnd: Date | null;\n  private viewDate: Date;\n  private today: Date;\n  private todayIso: string;\n  private monthFormatter: Intl.DateTimeFormat;\n  private weekdayFormatter: Intl.DateTimeFormat;\n  private weekdaysReady: boolean;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n    this.mode = parseMode(this.root.dataset.vxSelection || this.root.dataset.vxCalendarMode);\n    this.locale = this.root.dataset.vxLocale || 'en-US';\n    this.weekStart = Number(this.root.dataset.vxWeekStart || 0);\n    if (Number.isNaN(this.weekStart) || this.weekStart < 0 || this.weekStart > 6) {\n      this.weekStart = 0;\n    }\n    this.minDate = parseDate(this.root.dataset.vxMin);\n    this.maxDate = parseDate(this.root.dataset.vxMax);\n    this.selected = parseDate(this.root.dataset.vxSelected);\n    this.selectedDates = new Set(\n      parseDateList(this.root.dataset.vxSelectedDates || this.root.dataset.vxSelected).map((date) =>\n        toIsoDate(date)\n      )\n    );\n    const [rangeStart, rangeEnd] = parseRangeSelection(\n      `${this.root.dataset.vxRangeStart || ''}/${this.root.dataset.vxRangeEnd || ''}`\n    );\n    if (rangeStart || rangeEnd) {\n      this.rangeStart = rangeStart;\n      this.rangeEnd = rangeEnd;\n    } else {\n      const [fallbackStart, fallbackEnd] = parseRangeSelection(this.root.dataset.vxSelected);\n      this.rangeStart = fallbackStart;\n      this.rangeEnd = fallbackEnd;\n    }\n    this.today = new Date();\n    this.todayIso = toIsoDate(this.today);\n    this.monthFormatter = new Intl.DateTimeFormat(this.locale, { month: 'long', year: 'numeric' });\n    this.weekdayFormatter = new Intl.DateTimeFormat(this.locale, { weekday: 'short' });\n    this.weekdaysReady = false;\n    this.normalizeSelection();\n    const start = this.getInitialViewDate() || this.today;\n    this.viewDate = new Date(start.getFullYear(), start.getMonth(), 1);\n    this.parts = this.ensureStructure();\n    this.bind();\n    this.syncDataset();\n    this.render();\n  }\n\n  private getInitialViewDate() {\n    if (this.mode === 'range') {\n      return this.rangeStart || this.rangeEnd;\n    }\n    if (this.mode === 'multi') {\n      const firstIso = [...this.selectedDates].sort()[0];\n      return parseDate(firstIso);\n    }\n    return this.selected;\n  }\n\n  private normalizeSelection() {\n    if (this.mode !== 'single') {\n      this.selected = null;\n    }\n    if (this.mode !== 'multi') {\n      this.selectedDates.clear();\n    }\n    if (this.mode !== 'range') {\n      this.rangeStart = null;\n      this.rangeEnd = null;\n    }\n\n    if (this.mode === 'single' && this.selected && this.isOutOfRange(this.selected)) {\n      this.selected = null;\n    }\n    if (this.mode === 'multi') {\n      this.selectedDates = new Set(\n        [...this.selectedDates].filter((iso) => {\n          const date = parseDate(iso);\n          return date ? !this.isOutOfRange(date) : false;\n        })\n      );\n    }\n    if (this.mode === 'range') {\n      if (this.rangeStart && this.isOutOfRange(this.rangeStart)) {\n        this.rangeStart = null;\n      }\n      if (this.rangeEnd && this.isOutOfRange(this.rangeEnd)) {\n        this.rangeEnd = null;\n      }\n      if (this.rangeStart && this.rangeEnd && this.rangeEnd < this.rangeStart) {\n        const start = this.rangeEnd;\n        this.rangeEnd = this.rangeStart;\n        this.rangeStart = start;\n      }\n    }\n  }\n\n  private ensureStructure(): CalendarParts {\n    this.root.classList.add('vxc-calendar');\n    this.root.classList.add('c-calendar');\n\n    let header = this.root.querySelector<HTMLElement>('.vxc-calendar-header, .c-calendar-header');\n    if (!header) {\n      header = document.createElement('div');\n      header.className = 'vxc-calendar-header';\n      this.root.appendChild(header);\n    } else {\n      header.classList.add('vxc-calendar-header');\n    }\n\n    let prev = header.querySelector<HTMLButtonElement>('[data-vx-cal-prev]');\n    if (!prev) {\n      prev = document.createElement('button');\n      prev.type = 'button';\n      prev.className = 'vxc-calendar-nav';\n      prev.dataset.vxCalPrev = '';\n      prev.textContent = 'Prev';\n      header.appendChild(prev);\n    } else {\n      prev.classList.add('vxc-calendar-nav');\n    }\n\n    let title = header.querySelector<HTMLElement>('.vxc-calendar-title, .c-calendar-title');\n    if (!title) {\n      title = document.createElement('div');\n      title.className = 'vxc-calendar-title';\n      header.appendChild(title);\n    } else {\n      title.classList.add('vxc-calendar-title');\n    }\n\n    let next = header.querySelector<HTMLButtonElement>('[data-vx-cal-next]');\n    if (!next) {\n      next = document.createElement('button');\n      next.type = 'button';\n      next.className = 'vxc-calendar-nav';\n      next.dataset.vxCalNext = '';\n      next.textContent = 'Next';\n      header.appendChild(next);\n    } else {\n      next.classList.add('vxc-calendar-nav');\n    }\n\n    let weekdays = this.root.querySelector<HTMLElement>(\n      '.vxc-calendar-weekdays, .c-calendar-weekdays'\n    );\n    if (!weekdays) {\n      weekdays = document.createElement('div');\n      weekdays.className = 'vxc-calendar-weekdays';\n      this.root.appendChild(weekdays);\n    } else {\n      weekdays.classList.add('vxc-calendar-weekdays');\n    }\n\n    let grid = this.root.querySelector<HTMLElement>('.vxc-calendar-grid, .c-calendar-grid');\n    if (!grid) {\n      grid = document.createElement('div');\n      grid.className = 'vxc-calendar-grid';\n      this.root.appendChild(grid);\n    } else {\n      grid.classList.add('vxc-calendar-grid');\n    }\n\n    return { header, title, prev, next, weekdays, grid };\n  }\n\n  private bind() {\n    this.parts.prev.addEventListener('click', () => {\n      this.viewDate = addMonths(this.viewDate, -1);\n      this.render();\n    });\n\n    this.parts.next.addEventListener('click', () => {\n      this.viewDate = addMonths(this.viewDate, 1);\n      this.render();\n    });\n\n    this.parts.grid.addEventListener('click', (event) => {\n      const target = (event.target as HTMLElement | null)?.closest<HTMLElement>('[data-vx-date]');\n      if (!target || target.hasAttribute('disabled')) {\n        return;\n      }\n      const iso = target.getAttribute('data-vx-date');\n      const date = parseDate(iso);\n      if (!date) {\n        return;\n      }\n      if (this.isOutOfRange(date)) {\n        return;\n      }\n\n      this.applySelection(date, iso || '');\n      if (\n        date.getFullYear() !== this.viewDate.getFullYear() ||\n        date.getMonth() !== this.viewDate.getMonth()\n      ) {\n        this.viewDate = new Date(date.getFullYear(), date.getMonth(), 1);\n      }\n      this.syncDataset();\n      this.render();\n      this.root.dispatchEvent(new CustomEvent('vx:calendar-change', { detail: this.getValue() }));\n    });\n  }\n\n  private applySelection(date: Date, iso: string) {\n    if (this.mode === 'multi') {\n      if (this.selectedDates.has(iso)) {\n        this.selectedDates.delete(iso);\n      } else {\n        this.selectedDates.add(iso);\n      }\n      return;\n    }\n\n    if (this.mode === 'range') {\n      if (!this.rangeStart || (this.rangeStart && this.rangeEnd)) {\n        this.rangeStart = date;\n        this.rangeEnd = null;\n        return;\n      }\n      if (date < this.rangeStart) {\n        this.rangeEnd = this.rangeStart;\n        this.rangeStart = date;\n        return;\n      }\n      this.rangeEnd = date;\n      return;\n    }\n\n    this.selected = date;\n  }\n\n  private syncDataset() {\n    this.root.dataset.vxSelection = this.mode;\n    if (this.mode === 'single') {\n      const iso = this.selected ? toIsoDate(this.selected) : '';\n      this.root.dataset.vxSelected = iso;\n      delete this.root.dataset.vxSelectedDates;\n      delete this.root.dataset.vxRangeStart;\n      delete this.root.dataset.vxRangeEnd;\n      return;\n    }\n\n    if (this.mode === 'multi') {\n      const dates = [...this.selectedDates].sort();\n      const value = dates.join(',');\n      this.root.dataset.vxSelected = value;\n      this.root.dataset.vxSelectedDates = value;\n      delete this.root.dataset.vxRangeStart;\n      delete this.root.dataset.vxRangeEnd;\n      return;\n    }\n\n    const startIso = this.rangeStart ? toIsoDate(this.rangeStart) : '';\n    const endIso = this.rangeEnd ? toIsoDate(this.rangeEnd) : '';\n    this.root.dataset.vxRangeStart = startIso;\n    this.root.dataset.vxRangeEnd = endIso;\n    this.root.dataset.vxSelected = endIso ? `${startIso}/${endIso}` : startIso;\n    delete this.root.dataset.vxSelectedDates;\n  }\n\n  getValue() {\n    if (this.mode === 'multi') {\n      return {\n        mode: this.mode,\n        selectedDates: [...this.selectedDates].sort()\n      };\n    }\n    if (this.mode === 'range') {\n      return {\n        mode: this.mode,\n        rangeStart: this.rangeStart ? toIsoDate(this.rangeStart) : null,\n        rangeEnd: this.rangeEnd ? toIsoDate(this.rangeEnd) : null\n      };\n    }\n    return {\n      mode: this.mode,\n      selected: this.selected ? toIsoDate(this.selected) : null\n    };\n  }\n\n  private isOutOfRange(date: Date) {\n    if (this.minDate && date < this.minDate) {\n      return true;\n    }\n    if (this.maxDate && date > this.maxDate) {\n      return true;\n    }\n    return false;\n  }\n\n  private renderWeekdays() {\n    if (this.weekdaysReady) {\n      return;\n    }\n    const labels = getWeekdayLabels(this.weekdayFormatter, this.weekStart);\n    const fragment = document.createDocumentFragment();\n    labels.forEach((label) => {\n      const cell = document.createElement('div');\n      cell.textContent = label;\n      fragment.appendChild(cell);\n    });\n    this.parts.weekdays.replaceChildren(fragment);\n    this.weekdaysReady = true;\n  }\n\n  private isDateSelected(iso: string) {\n    if (this.mode === 'multi') {\n      return this.selectedDates.has(iso);\n    }\n    if (this.mode === 'range') {\n      return iso === (this.rangeStart ? toIsoDate(this.rangeStart) : null);\n    }\n    return this.selected ? toIsoDate(this.selected) === iso : false;\n  }\n\n  private isDateInRange(date: Date) {\n    if (this.mode !== 'range' || !this.rangeStart || !this.rangeEnd) {\n      return false;\n    }\n    const value = date.getTime();\n    return value > this.rangeStart.getTime() && value < this.rangeEnd.getTime();\n  }\n\n  private isRangeStart(iso: string) {\n    return this.mode === 'range' && this.rangeStart ? toIsoDate(this.rangeStart) === iso : false;\n  }\n\n  private isRangeEnd(iso: string) {\n    return this.mode === 'range' && this.rangeEnd ? toIsoDate(this.rangeEnd) === iso : false;\n  }\n\n  private renderGrid() {\n    const year = this.viewDate.getFullYear();\n    const month = this.viewDate.getMonth();\n    const first = new Date(year, month, 1);\n    const dayOfWeek = first.getDay();\n    const leading = (dayOfWeek - this.weekStart + 7) % 7;\n    const start = new Date(year, month, 1 - leading);\n    const totalCells = 42;\n\n    const fragment = document.createDocumentFragment();\n\n    for (let i = 0; i < totalCells; i += 1) {\n      const date = new Date(start.getFullYear(), start.getMonth(), start.getDate() + i);\n      const isCurrentMonth = date.getMonth() === month;\n      const iso = toIsoDate(date);\n      const isSelected = this.isDateSelected(iso);\n      const isToday = this.todayIso === iso;\n      const disabled = this.isOutOfRange(date);\n      const isInRange = this.isDateInRange(date);\n      const isRangeStart = this.isRangeStart(iso);\n      const isRangeEnd = this.isRangeEnd(iso);\n\n      const cell = document.createElement('button');\n      cell.type = 'button';\n      cell.className = 'vxc-calendar-day c-calendar-day';\n      cell.textContent = `${date.getDate()}`;\n      cell.setAttribute('data-vx-date', iso);\n      cell.setAttribute('aria-label', iso);\n\n      if (!isCurrentMonth) {\n        cell.classList.add('vxs-outside');\n      }\n      if (isToday) {\n        cell.classList.add('vxs-today');\n        cell.setAttribute('aria-current', 'date');\n      }\n      if (isSelected && !disabled) {\n        cell.classList.add('vxs-selected');\n        cell.setAttribute('aria-selected', 'true');\n      }\n      if (isInRange && !disabled) {\n        cell.classList.add('vxs-in-range');\n      }\n      if (isRangeStart && !disabled) {\n        cell.classList.add('vxs-range-start');\n      }\n      if (isRangeEnd && !disabled) {\n        cell.classList.add('vxs-range-end');\n      }\n      if (disabled) {\n        cell.classList.add('vxs-disabled');\n        cell.setAttribute('disabled', 'true');\n      }\n\n      fragment.appendChild(cell);\n    }\n    this.parts.grid.replaceChildren(fragment);\n  }\n\n  private render() {\n    this.parts.title.textContent = this.monthFormatter.format(this.viewDate);\n    this.renderWeekdays();\n    this.renderGrid();\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"calendar\"]').forEach((calendarEl) => {\n      new Calendar(calendarEl);\n    });\n  }\n}\n\r\n","const clamp = (value: number, min: number, max: number) => Math.min(max, Math.max(min, value));\n\nconst toNumber = (value: string | null | undefined, fallback = 0) => {\n  const parsed = Number(value);\n  return Number.isFinite(parsed) ? parsed : fallback;\n};\n\nexport class ParticleProgress {\n  private root: HTMLElement;\n  private bar: HTMLElement;\n  private layer: HTMLElement;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n    this.root.classList.add('vxc-progress', 'vxc-progress-particles');\n    this.bar = this.ensureBar();\n    this.layer = this.ensureLayer();\n    this.seedParticles();\n    this.setProgress(this.readInitialProgress());\n    this.bindInputSync();\n  }\n\n  private ensureBar() {\n    let bar = this.root.querySelector<HTMLElement>('.vxc-progress-bar');\n    if (!bar) {\n      bar = document.createElement('div');\n      bar.className = 'vxc-progress-bar';\n      this.root.appendChild(bar);\n    }\n    return bar;\n  }\n\n  private ensureLayer() {\n    let layer = this.root.querySelector<HTMLElement>('.vxc-progress-particle-layer');\n    if (!layer) {\n      layer = document.createElement('div');\n      layer.className = 'vxc-progress-particle-layer';\n      this.root.appendChild(layer);\n    }\n    layer.setAttribute('aria-hidden', 'true');\n    return layer;\n  }\n\n  private readInitialProgress() {\n    const dataValue = toNumber(this.root.dataset.vxProgress, Number.NaN);\n    if (Number.isFinite(dataValue)) {\n      return clamp(dataValue, 0, 100);\n    }\n\n    const styleValue = toNumber(this.bar.style.width.replace('%', ''), 0);\n    return clamp(styleValue, 0, 100);\n  }\n\n  private seedParticles() {\n    const count = clamp(Math.round(toNumber(this.root.dataset.vxParticleCount, 14)), 6, 32);\n    const fragment = document.createDocumentFragment();\n\n    for (let i = 0; i < count; i += 1) {\n      const particle = document.createElement('span');\n      const spreadX = (Math.random() - 0.5) * 42;\n      const spreadY = -4 - Math.random() * 26;\n      const midpointX = spreadX * 0.4;\n      const midpointY = spreadY * 0.42;\n      const scale = 0.72 + Math.random() * 0.66;\n      const delay = (i * 0.075 + Math.random() * 0.55).toFixed(2);\n\n      particle.className = 'vxc-progress-particle';\n      particle.style.setProperty('--vx-px', `${spreadX.toFixed(2)}px`);\n      particle.style.setProperty('--vx-py', `${spreadY.toFixed(2)}px`);\n      particle.style.setProperty('--vx-px-mid', `${midpointX.toFixed(2)}px`);\n      particle.style.setProperty('--vx-py-mid', `${midpointY.toFixed(2)}px`);\n      particle.style.setProperty('--vx-scale', scale.toFixed(2));\n      particle.style.setProperty('--vx-scale-mid', (scale * 0.72).toFixed(2));\n      particle.style.setProperty('--vx-delay', `${delay}s`);\n\n      fragment.appendChild(particle);\n    }\n\n    this.layer.replaceChildren(fragment);\n  }\n\n  private bindInputSync() {\n    const sourceId = this.root.dataset.vxProgressSource;\n    if (!sourceId) {\n      return;\n    }\n    const source = document.getElementById(sourceId) as HTMLInputElement | null;\n    if (!source) {\n      return;\n    }\n    const sync = () => this.setProgress(toNumber(source.value, 0));\n    source.addEventListener('input', sync);\n    source.addEventListener('change', sync);\n    sync();\n  }\n\n  setProgress(value: number) {\n    const clamped = clamp(Math.round(value), 0, 100);\n    this.root.dataset.vxProgress = `${clamped}`;\n    this.root.style.setProperty('--vx-progress', `${clamped}`);\n    this.root.style.setProperty('--vx-progress-intensity', Math.max(0.25, clamped / 100).toFixed(2));\n    this.bar.style.width = `${clamped}%`;\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"particle-progress\"]').forEach((progressEl) => {\n      new ParticleProgress(progressEl);\n    });\n  }\n}\n","export class ImageReveal {\n  private root: HTMLElement;\n  private image: HTMLImageElement | null;\n  private observer: IntersectionObserver | null;\n  private visible: boolean;\n  private loaded: boolean;\n\n  constructor(root: HTMLElement) {\n    this.root = root;\n    this.image = root.querySelector<HTMLImageElement>('img');\n    this.observer = null;\n    this.visible = false;\n    this.loaded = false;\n\n    if (!this.image) {\n      return;\n    }\n\n    this.root.classList.add('vxc-image-reveal');\n    this.bindLoad();\n    this.bindVisibility();\n  }\n\n  private bindLoad() {\n    if (!this.image) {\n      return;\n    }\n\n    const markLoaded = () => {\n      this.loaded = true;\n      this.root.classList.add('vxs-loaded');\n      this.updateState();\n    };\n\n    if (this.image.complete && this.image.naturalWidth > 0) {\n      markLoaded();\n      return;\n    }\n\n    this.image.addEventListener('load', markLoaded, { once: true });\n    this.image.addEventListener('error', markLoaded, { once: true });\n  }\n\n  private bindVisibility() {\n    if (typeof window === 'undefined' || !('IntersectionObserver' in window)) {\n      this.visible = true;\n      this.root.classList.add('vxs-visible');\n      this.updateState();\n      return;\n    }\n\n    this.observer = new IntersectionObserver(\n      (entries) => {\n        const entry = entries[0];\n        if (!entry?.isIntersecting) {\n          return;\n        }\n        this.visible = true;\n        this.root.classList.add('vxs-visible');\n        this.updateState();\n        this.observer?.disconnect();\n        this.observer = null;\n      },\n      { threshold: 0.2 }\n    );\n\n    this.observer.observe(this.root);\n  }\n\n  private updateState() {\n    this.root.dataset.vxState = this.visible && this.loaded ? 'open' : 'closed';\n  }\n\n  static wire() {\n    document.querySelectorAll<HTMLElement>('[data-vx=\"image-reveal\"]').forEach((imageEl) => {\n      new ImageReveal(imageEl);\n    });\n  }\n}\n","import { Modal } from './modules/modal';\nimport { Drawer } from './modules/drawer';\nimport { Dropdown } from './modules/dropdown';\nimport { Tooltip } from './modules/tooltip';\nimport { Tabs } from './modules/tabs';\nimport { ToastStack } from './modules/toast';\nimport { Accordion } from './modules/accordion';\nimport { Popover } from './modules/popover';\nimport { Navbar } from './modules/navbar';\nimport { Calendar } from './modules/calendar';\nimport { ParticleProgress } from './modules/particle-progress';\nimport { ImageReveal } from './modules/image-reveal';\n\nexport {\n  Modal,\n  Drawer,\n  Dropdown,\n  Tooltip,\n  Tabs,\n  ToastStack,\n  Accordion,\n  Popover,\n  Navbar,\n  Calendar,\n  ParticleProgress,\n  ImageReveal\n};\n\nexport const autoInit = () => {\n  Modal.wire();\n  Drawer.wire();\n  Dropdown.wire();\n  Tooltip.wire();\n  Tabs.wire();\n  ToastStack.wire();\n  Accordion.wire();\n  Popover.wire();\n  Navbar.wire();\n  Calendar.wire();\n  ParticleProgress.wire();\n  ImageReveal.wire();\n};\n\nconst shouldAutoInit = () =>\n  typeof document !== 'undefined' && document.documentElement?.hasAttribute('data-vx-auto');\n\nif (shouldAutoInit()) {\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => autoInit());\n  } else {\n    autoInit();\n  }\n}\n"],"names":["toggleClass","el","className","on","setAriaExpanded","expanded","setAriaHidden","hidden","modalAngles","Modal","root","__publicField","configured","index","event","modalEl","modal","id","btn","Drawer","drawerEl","drawer","Dropdown","_a","dropdown","Tooltip","trigger","tipEl","text","show","rect","hide","Tabs","tab","isActive","panel","tabs","first","ToastStack","message","timeout","toast","stackEl","stack","msg","Accordion","panelId","accordion","Popover","popover","Navbar","isOpen","navEl","parseDate","value","match","year","month","day","date","splitDateValues","item","compareDates","a","b","toIsoDate","y","m","d","addMonths","offset","getWeekdayLabels","formatter","weekStart","base","labels","_","parseMode","parseDateList","token","parseRangeSelection","tokens","second","Calendar","rangeStart","rangeEnd","fallbackStart","fallbackEnd","start","firstIso","iso","header","prev","title","next","weekdays","grid","target","startIso","endIso","fragment","label","cell","leading","totalCells","i","isCurrentMonth","isSelected","isToday","disabled","isInRange","isRangeStart","isRangeEnd","calendarEl","clamp","min","max","toNumber","fallback","parsed","ParticleProgress","bar","layer","dataValue","styleValue","count","particle","spreadX","spreadY","midpointX","midpointY","scale","delay","sourceId","source","sync","clamped","progressEl","ImageReveal","markLoaded","entries","entry","imageEl","autoInit"],"mappings":"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"}